Started by user unknown or anonymous
Running as SYSTEM
Building in workspace /var/lib/jenkins/workspace/JenkinsRestore
[JenkinsRestore] $ /bin/sh -xe /tmp/jenkins5412987969719261090.sh
+ rm -rf /tmp/gitrepo
+ mkdir /tmp/gitrepo
+ GITDIR=/tmp/gitrepo
+ RestoreDIR=backup.01_57_10_23_2019
+ cd /tmp/gitrepo
+ rm -rf '*'
+ echo 'Cloning the repository'
Cloning the repository
+ git clone git@github.com:yogeshbha/hello-world.git
Cloning into 'hello-world'...
Checking out files:  15% (1393/9262)   Checking out files:  16% (1482/9262)   Checking out files:  17% (1575/9262)   Checking out files:  18% (1668/9262)   Checking out files:  19% (1760/9262)   Checking out files:  20% (1853/9262)   Checking out files:  21% (1946/9262)   Checking out files:  22% (2038/9262)   Checking out files:  22% (2072/9262)   Checking out files:  23% (2131/9262)   Checking out files:  23% (2204/9262)   Checking out files:  24% (2223/9262)   Checking out files:  25% (2316/9262)   Checking out files:  26% (2409/9262)   Checking out files:  27% (2501/9262)   Checking out files:  28% (2594/9262)   Checking out files:  29% (2686/9262)   Checking out files:  30% (2779/9262)   Checking out files:  31% (2872/9262)   Checking out files:  32% (2964/9262)   Checking out files:  32% (3044/9262)   Checking out files:  33% (3057/9262)   Checking out files:  34% (3150/9262)   Checking out files:  35% (3242/9262)   Checking out files:  36% (3335/9262)   Checking out files:  37% (3427/9262)   Checking out files:  38% (3520/9262)   Checking out files:  39% (3613/9262)   Checking out files:  40% (3705/9262)   Checking out files:  40% (3738/9262)   Checking out files:  41% (3798/9262)   Checking out files:  42% (3891/9262)   Checking out files:  43% (3983/9262)   Checking out files:  43% (4044/9262)   Checking out files:  44% (4076/9262)   Checking out files:  45% (4168/9262)   Checking out files:  46% (4261/9262)   Checking out files:  47% (4354/9262)   Checking out files:  48% (4446/9262)   Checking out files:  49% (4539/9262)   Checking out files:  50% (4631/9262)   Checking out files:  51% (4724/9262)   Checking out files:  52% (4817/9262)   Checking out files:  53% (4909/9262)   Checking out files:  54% (5002/9262)   Checking out files:  54% (5043/9262)   Checking out files:  55% (5095/9262)   Checking out files:  56% (5187/9262)   Checking out files:  57% (5280/9262)   Checking out files:  58% (5372/9262)   Checking out files:  59% (5465/9262)   Checking out files:  60% (5558/9262)   Checking out files:  60% (5566/9262)   Checking out files:  61% (5650/9262)   Checking out files:  62% (5743/9262)   Checking out files:  63% (5836/9262)   Checking out files:  63% (5843/9262)   Checking out files:  64% (5928/9262)   Checking out files:  65% (6021/9262)   Checking out files:  66% (6113/9262)   Checking out files:  67% (6206/9262)   Checking out files:  68% (6299/9262)   Checking out files:  69% (6391/9262)   Checking out files:  70% (6484/9262)   Checking out files:  71% (6577/9262)   Checking out files:  72% (6669/9262)   Checking out files:  73% (6762/9262)   Checking out files:  74% (6854/9262)   Checking out files:  74% (6866/9262)   Checking out files:  75% (6947/9262)   Checking out files:  76% (7040/9262)   Checking out files:  77% (7132/9262)   Checking out files:  78% (7225/9262)   Checking out files:  79% (7317/9262)   Checking out files:  80% (7410/9262)   Checking out files:  80% (7449/9262)   Checking out files:  81% (7503/9262)   Checking out files:  82% (7595/9262)   Checking out files:  83% (7688/9262)   Checking out files:  84% (7781/9262)   Checking out files:  85% (7873/9262)   Checking out files:  86% (7966/9262)   Checking out files:  86% (7967/9262)   Checking out files:  87% (8058/9262)   Checking out files:  88% (8151/9262)   Checking out files:  89% (8244/9262)   Checking out files:  90% (8336/9262)   Checking out files:  91% (8429/9262)   Checking out files:  92% (8522/9262)   Checking out files:  93% (8614/9262)   Checking out files:  94% (8707/9262)   Checking out files:  94% (8782/9262)   Checking out files:  95% (8799/9262)   Checking out files:  96% (8892/9262)   Checking out files:  97% (8985/9262)   Checking out files:  98% (9077/9262)   Checking out files:  99% (9170/9262)   Checking out files: 100% (9262/9262)   Checking out files: 100% (9262/9262), done.
+ cd hello-world
+ echo 'Stopping the Jenkins before restoring'
Stopping the Jenkins before restoring
+ cd /var/lib/jenkins
++ ls -t /tmp/gitrepo/hello-world
++ head -1
+ BACKUPDIR=backup.10_46_10_22_2019
+ echo 'Restoring the backup from backup.01_57_10_23_2019'
Restoring the backup from backup.01_57_10_23_2019
+ cd /tmp/gitrepo/hello-world/backup.01_57_10_23_2019
+ cp -r backup config.xml hudson.model.UpdateCenter.xml hudson.plugins.git.GitTool.xml identity.key.enc installedPlugins.xml jenkins.install.InstallUtil.lastExecVersion jenkins.install.UpgradeWizard.state jenkins.model.JenkinsLocationConfiguration.xml jenkins.telemetry.Correlator.xml jobs logs nodeMonitors.xml plugins queue.xml.bak secret.key secret.key.not-so-secret secrets thinBackup.xml updates userContent users /var/lib/jenkins/.
+ echo 'Following are restored contents onf Jenkins'
Following are restored contents onf Jenkins
+ sleep 2
+ ls -lart /var/lib/jenkins/.
total 92
drwxr-xr-x. 31 root    root    4096 Oct 21 00:47 ..
drwxr-xr-x.  3 jenkins jenkins   17 Oct 21 00:48 .cache
drwxr-xr-x.  3 jenkins jenkins   19 Oct 21 00:48 .java
drwxr-xr-x.  3 jenkins jenkins   20 Oct 21 00:51 .groovy
drwx------.  2 jenkins jenkins   71 Oct 22 10:44 .ssh
-rw-------.  1 jenkins jenkins  186 Oct 22 10:57 .bash_history
drwxr-xr-x.  2 jenkins jenkins    6 Oct 22 11:59 hello-world
drwxr-xr-x.  3 jenkins jenkins   19 Oct 22 11:59 logs
drwxr-xr-x.  4 jenkins jenkins 4096 Oct 22 11:59 secrets
drwxr-xr-x.  2 jenkins jenkins  182 Oct 22 11:59 updates
drwxr-xr-x.  2 jenkins jenkins   24 Oct 22 11:59 userContent
drwxr-xr-x.  3 jenkins jenkins   56 Oct 22 11:59 users
drwxr-xr-x.  2 jenkins jenkins    6 Oct 22 12:00 nodes
drwxr-xr-x.  2 jenkins jenkins    6 Oct 22 12:00 workflow-libs
drwxr-xr-x.  5 jenkins jenkins  132 Oct 23 00:09 backup
-rw-r--r--.  1 jenkins jenkins   76 Oct 23 00:48 .owner
drwxr-xr-x. 77 jenkins jenkins 8192 Oct 23 01:54 plugins
-rw-r--r--.  1 jenkins jenkins    0 Oct 23 01:55 .lastStarted
drwxr-xr-x.  5 jenkins jenkins   62 Oct 23 01:57 workspace
-rw-r--r--.  1 jenkins jenkins  130 Oct 23 01:58 queue.xml
drwxr-xr-x. 18 jenkins jenkins 4096 Oct 23 01:58 .
-rw-r--r--.  1 jenkins jenkins    0 Oct 23 02:00 ThinBackup Worker Thread.log
-rw-r--r--.  1 jenkins jenkins  370 Oct 23 02:00 hudson.plugins.git.GitTool.xml
-rw-r--r--.  1 jenkins jenkins  156 Oct 23 02:00 hudson.model.UpdateCenter.xml
-rw-r--r--.  1 jenkins jenkins 1436 Oct 23 02:00 config.xml
-rw-r--r--.  1 jenkins jenkins 7171 Oct 23 02:00 installedPlugins.xml
-rw-r--r--.  1 jenkins jenkins 1712 Oct 23 02:00 identity.key.enc
-rw-r--r--.  1 jenkins jenkins    5 Oct 23 02:00 jenkins.install.UpgradeWizard.state
-rw-r--r--.  1 jenkins jenkins    5 Oct 23 02:00 jenkins.install.InstallUtil.lastExecVersion
drwxr-xr-x.  8 jenkins jenkins  111 Oct 23 02:00 jobs
-rw-r--r--.  1 jenkins jenkins  171 Oct 23 02:00 jenkins.telemetry.Correlator.xml
-rw-r--r--.  1 jenkins jenkins  182 Oct 23 02:00 jenkins.model.JenkinsLocationConfiguration.xml
-rw-r--r--.  1 jenkins jenkins  907 Oct 23 02:00 nodeMonitors.xml
-rw-r--r--.  1 jenkins jenkins    0 Oct 23 02:00 secret.key.not-so-secret
-rw-r--r--.  1 jenkins jenkins   64 Oct 23 02:00 secret.key
-rw-r--r--.  1 jenkins jenkins  130 Oct 23 02:00 queue.xml.bak
-rw-r--r--.  1 jenkins jenkins 1024 Oct 23 02:00 thinBackup.xml
+ echo 'Restoration completed, please check the health'
Restoration completed, please check the health
Finished: SUCCESS
